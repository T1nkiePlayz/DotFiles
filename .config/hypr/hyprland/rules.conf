# WINDOW RULES (v2 syntax)

# Format:
# windowrulev2 = <action>, <conditions>


# Blur rules

# Disable blur for ALL normal windows
windowrulev2 = noblur, class:.*

# Disable blur for XWayland context menus (empty class/title)
windowrulev2 = noblur, xwayland:1, class:^$, title:^$


# Floating dialogs (File pickers etc)

# Common file dialogs
windowrulev2 = float, title:^(Open File|Select a File|Choose wallpaper|Open Folder|Save As|Library|File Upload).*
windowrulev2 = center, title:^(Open File|Select a File|Choose wallpaper|Open Folder|Save As|Library|File Upload).*

# Size for wallpaper / portal dialogs
windowrulev2 = size 60% 65%, title:^(Choose wallpaper).*

# Browser "wants to save/open"
windowrulev2 = float, title:.*(wants to save|wants to open).*
windowrulev2 = center, title:.*(wants to save|wants to open).*


############################
# Utility apps
############################

# Blueberry (Bluetooth)
windowrulev2 = float, class:^(blueberry\.py)$

# Bitwarden
windowrulev2 = float, initialTitle:(_crx_nngceckbapebfimnlniiiahkandclblb)
windowrulev2 = size 400 600, initialTitle:(_crx_nngceckbapebfimnlniiiahkandclblb)
windowrulev2 = center, initialTitle:(_crx_nngceckbapebfimnlniiiahkandclblb)

# Sober
windowrulev2 = float, initialTitle:(Account info)
windowrulev2 = size 600 800, initialTitle:(Account info)
windowrulev2 = center, initialTitle:(Account info)

# guifetch
windowrulev2 = float, class:^(guifetch)$

# PulseAudio / PipeWire volume control
windowrulev2 = float, class:^(pavucontrol|org\.pulseaudio\.pavucontrol)$
windowrulev2 = size 45% 45%, class:^(pavucontrol|org\.pulseaudio\.pavucontrol)$
windowrulev2 = center, class:^(pavucontrol|org\.pulseaudio\.pavucontrol)$

# Network manager
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = size 45% 45%, class:^(nm-connection-editor)$
windowrulev2 = center, class:^(nm-connection-editor)$


############################
# KDE / Plasma weirdness
############################

windowrulev2 = float, class:.*plasmawindowed.*
windowrulev2 = float, class:^kcm_.*
windowrulev2 = float, class:.*bluedevilwizard.*

# KDE portal dialogs
windowrulev2 = float, class:^org\.freedesktop\.impl\.portal\.desktop\.kde$
windowrulev2 = size 60% 65%, class:^org\.freedesktop\.impl\.portal\.desktop\.kde$


############################
# Apps
############################

# Zotero
windowrulev2 = float, class:^(Zotero)$
windowrulev2 = size 45% 45%, class:^(Zotero)$

# Warp terminal (force tiled)
windowrulev2 = tile, class:^dev\.warp\.Warp$


############################
# Picture-in-Picture
############################

windowrulev2 = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture).*
windowrulev2 = keepaspectratio, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture).*
windowrulev2 = size 25% 25%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture).*
windowrulev2 = move 73% 72%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture).*
windowrulev2 = pin, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture).*


############################
# Games / Tearing / Latency
############################

# Windows games
windowrulev2 = immediate, title:.*\.exe

# Minecraft
windowrulev2 = immediate, title:.*minecraft.*

# Steam games
windowrulev2 = immediate, class:^steam_app.*


############################
# JetBrains focus fix
############################

# Prevent random focus stealing / blank windows
windowrulev2 = noinitialfocus, class:^jetbrains-.*, floating:1


############################
# Visual polish
############################

# No shadow on tiled windows
windowrulev2 = noshadow, floating:0


############################
# WORKSPACE RULES
############################

workspace = special:special, gapsout:30


############################
# LAYER RULES
############################

# General layers
layerrule = xray, namespace:.*
layerrule = noanim, namespace:^(walker|selection|overview|anyrun|indicator.*|osk|hyprpicker)$

# GTK layer shell
layerrule = blur, namespace:gtk-layer-shell
layerrule = ignorealpha 0, namespace:gtk-layer-shell

# Launchers & notifications
layerrule = blur, namespace:^(launcher|notifications)$
layerrule = ignorealpha 0.6, namespace:launcher
layerrule = ignorealpha 0.69, namespace:notifications

# wlogout
layerrule = blur, namespace:logout_dialog


############################
# AGS / Bars / Panels
############################

layerrule = blur, namespace:^(bar|dock|indicator|overview|cheatsheet|sideleft|sideright|osk)[0-9]*
layerrule = ignorealpha 0.6, namespace:^(bar|dock|indicator|overview|cheatsheet|sideleft|sideright|osk)[0-9]*

layerrule = animation slide left, namespace:^sideleft.*
layerrule = animation slide right, namespace:^sideright.*


############################
# QUICKSHELL
############################

layerrule = blur, namespace:^quickshell:.*
layerrule = blurpopups, namespace:^quickshell:.*
layerrule = ignorealpha 0.79, namespace:^quickshell:.*

layerrule = noanim, namespace:^(quickshell:actionCenter|quickshell:overlay|quickshell:polkit|quickshell:regionSelector)$
layerrule = animation slide, namespace:^quickshell:bar
layerrule = animation fade, namespace:^quickshell:notificationPopup
layerrule = animation slide right, namespace:^quickshell:sidebarRight
layerrule = animation slide left, namespace:^quickshell:sidebarLeft
layerrule = animation slide bottom, namespace:^(quickshell:dock|quickshell:osk)$

# Tooltips / popups should NOT xray
layerrule = xray off, namespace:^quickshell:popup
layerrule = ignorealpha 1, namespace:^(quickshell:popup|quickshell:mediaControls)$

# Lock OSD order
layerrule = order -1, namespace:^quickshell:osk

